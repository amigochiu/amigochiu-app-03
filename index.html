<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <!-- 修改了標題 -->
    <title>翻譯蒟蒻 2.0</title>
    <meta name="theme-color" content="#ffffff">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="img/logo.png">
    <link rel="apple-touch-icon" href="img/logo.png">

    <!-- PWA / Mobile Web App -->
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="翻譯蒟蒻 2.0">

    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&family=Nunito:wght@400;600;700&display=swap"
        rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="style.css?v=2025.12.24.29">

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body class="theme-candy">

    <div class="app-container">
        <div class="main-content">
            <!-- TOP CARD: Target Language (B) -->
            <div class="card result-card" id="card-target">
                <!-- Pushed to the right (Visual Left when rotated) -->
                <div class="card-header" style="justify-content: flex-end;">
                    <div class="lang-badge target-badge">
                        <span id="target-lang-label">Japanese</span>
                    </div>
                    <!-- Trash button removed here -->
                </div>

                <div class="chat-container" id="target-chat">
                    <!-- Placeholder JS injected -->
                </div>
            </div>

            <!-- MIDDLE: Control Bar -->
            <div class="control-bar">
                <!-- Mic Toggle -->
                <button class="bar-btn" id="bar-mic-btn" title="開啟/關閉即時翻譯">
                    <i data-lucide="mic" size="20"></i>
                </button>

                <!-- Language A (Source) -->
                <div class="select-wrapper">
                    <select id="source-lang"></select>
                </div>

                <!-- Swap / Direction Button -->
                <button class="bar-btn" id="swap-btn" title="切換方向 / 交換語言">
                    <i data-lucide="arrow-up-down" size="20"></i>
                </button>

                <!-- Language B (Target) -->
                <div class="select-wrapper">
                    <select id="target-lang"></select>
                </div>

                <!-- Theme -->
                <div class="theme-dropdown-container">
                    <button class="bar-btn" id="theme-btn">
                        <i data-lucide="palette" size="20"></i>
                    </button>
                    <div id="theme-menu" class="theme-menu hidden">
                        <div style="font-size: 0.75rem; font-weight: 800; color: #94a3b8; padding: 0.5rem;">THEMES</div>
                        <div id="theme-list"></div>
                    </div>
                </div>
            </div>

            <!-- BOTTOM CARD: Source Language (A) -->
            <div class="card input-card" id="card-source">
                <div class="card-header">
                    <!-- New Flex Container for Badge + Mute Button -->
                    <div style="display: flex; gap: 0.5rem; align-items: center;">
                        <div class="lang-badge source-badge">
                            <span id="source-lang-label">Chinese</span>
                        </div>
                        <!-- Mute Button -->
                        <button class="bar-btn"
                            style="width: 28px; height: 28px; background: rgba(0,0,0,0.05); color: var(--color-source);"
                            id="mute-btn" title="語音播放開關">
                            <i data-lucide="volume-2" size="14"></i>
                        </button>
                    </div>

                    <button class="bar-btn"
                        style="width: 32px; height: 32px; background: rgba(0,0,0,0.05); color: var(--color-source);"
                        id="clear-btn" title="清除對話">
                        <i data-lucide="trash-2" size="16"></i>
                    </button>
                </div>

                <div class="chat-container" id="source-chat">
                    <!-- Placeholder JS injected -->
                </div>
                <!-- Version Tag moved inside card content area or overlay -->
                <div class="version-tag">v2025.12.24.29</div>
            </div>
        </div>
    </div>

    <div id="toast" class="toast hidden">Notification</div>

    <!-- Scripts -->
    <script src="script.js?v=2025.12.24.29"></script>

</body>

</html>